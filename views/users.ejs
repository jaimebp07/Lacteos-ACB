<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
    <title>Lacteos_ACB</title>
    <style>
        .container{
            max-width: 960px;
        }
    </style>
  </head>
  <body>

    <div
      class="container-fluid"
      style="padding: 15px 0; background-color: #51406a"
    >

      <a href="/home" style="color: white; text-decoration: none;  margin-left: 30px; font-size: 24px; font-weight: 400"
        >LACTEOS DEL ALTIPLANO CB
      </a>

      <a href="/log_in" style="text-decoration: none; color: red; position:absolute; top:4%; left:80%;"> Cerrar Sesion</a>
     
    </div>

    <div class="container">

      

        <div class="shadow-lg pb-3 mb-5 bg-body rounded">
            
          <h4>Usuario registrados</h4>

          <form action="/register_user" method="POST" style="position:absolute; top:11%; left:67%;">
            <button
            type="submit"
              class="btn btn-light"
              style="margin: 0 35px; background-color: #e5e5e5; color: #51406a"
            >
            Agregar
            </button>
          </form>

            <table id="tableUsers" class="table mt-4"> 
                <thead>
                    <tr>
                        <th style="display: none;">ID</th>
                        <th>DOCUMENTO</th>
                        <th>APELLIDOS</th>
                        <th>NOMBRES</th>
                        <th>CORREO ELECTRONICO</th>
                        <th>ROL</th>
                        <th>ACCIONES</th>
                    </tr>
                </thead>
                <tbody>
                    <% users.forEach((user) => { %>
                        <tr>
                            <td style="display: none;"><%= user._id %></td>
                            <td><%= user.identification_document %></td>
                            <td><%= user.surnames %></td>
                            <td><%= user.names %></td>
                            <td><%= user.email %></td>
                            <td><%= user.role %></td>
                            <td>
                                <a type="button" class="btnEdit btn btn-outline-primary bi bi-pencil"></a>
                                <a href="/delete/<%= user._id %>" class="btn btn-outline-danger bi bi-trash"></a>
                            </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </div>

   
<div id="modalUser" class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #51406a;" >
        <h5 class="modal-title" id="exampleModalLabel" style="color: #ffffff;" >Edite los datos del usuario</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <form action="/edit" method="POST">

          <input id="id_edit" name="id_edit" type="text" hidden>

          <div class="mb-3">
            <label for="document_edit" class="col-form-label">Documento:</label>
            <input id="document_edit" name="document_edit" type="text" class="form-control" id="recipient-name">
          </div>

          <div class="col-md-6">
            <label for="apellidos_edit" class="form-label">Apellidos</label>
            <input
              id="apellidos_edit"
              name="apellidos_edit"
              type="text"
              class="form-control"
              required
            />
          </div>

          <div class="col-md-6">
            <label for="nombres_edit" class="form-label">Nombres</label>
            <input
              id="nombres_edit"
              name="nombres_edit"
              type="text"
              class="form-control"
              required
            />
          </div>

          <div class="col-md-6">
            <label for="email_edit" class="form-label">Correo Electronico</label>
            <input
              id="email_edit"
              name="email_edit"
              type="text"
              class="form-control"
              required
            />
          </div>

          <div class="col-md-6">
            <label for="rol_edit" class="form-label">Rol</label>
            <select id="disabledSelect" name="rol_edit" class="form-select">
              <option>administrador</option>
              <option>conductor</option>
              <option>vendedor</option>
            </select>
          </div>

          <div class="modal-footer">
            <button type="submit" style="background-color: #51406a;" class="btn btn-primary">Actualizar</button>
          </div>
        </form>
      </div>

     
    </div>
  </div>
</div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="js/code.js"></script>    
  </body>
</html>